<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>🍤 金鱼的记忆仓库</title><link>https://blog.megabits.xyz/</link><description>Recent content on 🍤 金鱼的记忆仓库</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 26 Aug 2023 16:42:54 +0900</lastBuildDate><atom:link href="https://blog.megabits.xyz/index.xml" rel="self" type="application/rss+xml"/><item><title>值得怀念的东西</title><link>https://blog.megabits.xyz/posts/memorable-things/</link><pubDate>Sat, 26 Aug 2023 16:42:54 +0900</pubDate><guid>https://blog.megabits.xyz/posts/memorable-things/</guid><description>&lt;p>最近在网上找了个脚本，把初高中在 QQ 空间发的说说都备份下来，然后用模拟点击的方法全部删掉了。主要还是为了不被查水表，不想哪天被翻出什么旧帐。&lt;/p>
&lt;p>很多小时候的东西我都有留着，VB6 做的一些没什么用的程序，初中和同学一起做的作品，各种各样的照片录像，能保留下来的我都留下来了。我整理文件的习惯非常好，因为小时候家里没有联网，需要点什么都要去买盘或者趁着去亲戚家下载了带回来，所以我一直有一个 U 盘用来保存这些重要的东西。自从我爸给我买了第一个金士顿的 U 盘，我都非常认真的分门别类整理里面的文件，现在的很多东西也都是因为我有认真整理才得以保留下来的。&lt;/p>
&lt;p>我很早就有过丢失重要文件的经历。小学的时候我已经在用 VB6 做一些没有什么用的程序玩了。有一次我不小心删除了自己做了一个月的大工程，在那之后我就学会了备份，每天完成工作之前我都要把写完的东西复制一份保存。这样的宝贵经历让我至今都有非常好的备份习惯。&lt;/p>
&lt;p>在我的收藏里，最早的文件是一些我用 Windows Movie Maker 剪出来的片子。大概是幼儿园还是小学的时候，我在家里的电脑上发现了这个好玩的程序，当时的系统是 Windows Me。我当时在我家店里玩的时候，就很喜欢用那个剪东西玩。但是我家当时应该没有摄像头，我也不记得我都在剪什么了。后来家里有了网，又赶上刘谦在春晚变魔术大家都在研究，我用家里的垃圾摄像头拍了几个魔术教学的片子发了优酷。当时的优酷颇有一种 YouTube 刚兴起时候的感觉，大家做的东西都非常粗糙。后来我在学校的微机课上展示给同学们看，然后发现微机课的那个电脑没有喇叭，同学根本不知道我在说什么。那阵风过去之后我就已经几乎没碰过魔术了，不过现在还留存有一些肌肉记忆，我依然可以耍两手。&lt;/p>
&lt;p>不过这几个魔术教学不是我主动保存的，而是传到优酷之后一直没动，后来想起来下载下来的。当然，下载下来之后我就把网上的删了。这些东西非常珍贵，因为自从我进入了学生时代，我就几乎没有记录过自己，这些可能是唯一剩下的东西。我并不喜欢自己学生时代的样子，学校逼我们所有人剪很短的头发，还要时不时被检查，班主任可能还会帮你剪。所以从小学到高中毕业，我都是寸头。其实过去了这么多年，我也完全不知道该如何打扮自己，因为在学生时代我的外表都是为合规服务的。非常可笑的是，初中毕业之后同学吃饭，班主任还问我你怎么还是这个头型。这当然要问她自己。&lt;/p>
&lt;p>我大部分的收藏都是以前做的失败作品。我不但收藏自己的失败作品，还收藏朋友的。有些朋友自己都没留着的东西我都还留着。有时候我还会把以前做的东西拿出来玩，虽然我已经看不懂自己小学时候写的代码了。&lt;/p>
&lt;p>因为所谓“影响学习”之类的理由，家里很长一段时间家里没有网络，我没什么学习新技术的途径，会做的东西很有限。目前留下来的内容里面，大部分都是用 VB6 写的，还有少部分用 Authorware 做的。我用有限的技术做了很多没用的东西，在根本不知道我做的东西是否已经存在的情况下，重复造一些轮子自娱自乐。&lt;/p>
&lt;p>不过这也说明以前的我还是非常有创造力的，我可以花一个月做毫无意义的作品只为了好玩，可以没日没夜的折腾黑苹果，可以在计算器上写游戏，可以在纸上写 App。现在我已经没有这个劲头了。所以保存这一切，更多的是怀念当年还有创造力的自己。&lt;/p>
&lt;p>这次备份 QQ 空间，其实也是我很早就想做的事情，只是之前一直没有找到合适的方案。我从高中开始用 QQ 空间，里面有很多东西现在看了都觉得很有意思，也能让我想起很多我靠自己想不起来的东西，可以为之后的写作增加一些材料。现在我备份下来的自己生产的东西加起来有 10GB 左右，此外还有一些当年的软件，书的配套光盘之类的有 50GB 左右，希望可以一直留到我挂掉那一天。&lt;/p></description></item><item><title>爷爷的后半生</title><link>https://blog.megabits.xyz/posts/myst-05-grandpa-rest-life/</link><pubDate>Tue, 06 Jun 2023 10:47:28 +0900</pubDate><guid>https://blog.megabits.xyz/posts/myst-05-grandpa-rest-life/</guid><description>&lt;p>我的爷爷大概在我上初中时候就去世了，对我来说他的一生十分神秘，父母的时代也许还是可以想象的，但再上面一辈发生过的事情我几乎是一无所知。关于爷爷的过往我大概都是听他们偶尔讲一讲，现在无从考证，以后也更没机会去考证了。&lt;/p>
&lt;p>据家里人说，爷爷在军队待过，也打过仗。我也不知是哪一路，只知道说打过仗而已。就和其他人的爷爷一样，他非常喜欢标榜自己打仗的经历。尤其是为了活命喝过臭水沟的水之类的，每次我挑食都会讲一遍。&lt;/p>
&lt;p>就和我父母一样，他也在机床厂工作过，即便说是到了退休年龄也还是四处出差。在我还在上幼儿园的时候他很少在家，经常就是在出差，留下我记忆中奶奶一个人坐在走廊里，削着土豆皮。等他终于回了家的时候，还会给我带点玩具作为礼物。&lt;/p>
&lt;p>我已经不记得小时候我对他是怎样的印象了，只是把他回来和得到礼物联系起来而已。有一次他没给我带礼物，我生气大哭，爷爷就只好跑去百货买玩具给我。我印象里那一次他给我买了一个只能播音乐的玩具手机，还有些球什么的，具体我不太记得了。东西我不见的喜欢，但是只要有就行。&lt;/p>
&lt;p>我家的阳台上有一个大木箱，里面装着他在工厂干活用的各种工具。我没见过里面是什么样子，我爸怕我乱动里面东西砸到脚上之类的，每次要从里面拿东西的时候都不让我过去。我只是记得那个木箱真的很大，除此之外就没什么了。&lt;/p>
&lt;p>除了工具，他还在家里留下了很多图纸。那些图纸我见过一些，他还教过我应该怎么看。小时候还不懂“第一视角”和“第三视角”的区别之类的高级知识，但基本的三视图的我都能看懂。&lt;/p>
&lt;p>我爸和我奶总劝他，这么大岁数了出去折腾对身体不好，但也没什么用。据说是因为他技术太好，他不去别人很多东西都不会修，所以才不得不叫他去。其实除了被人邀请，爷爷总出门还有一个重要的原因是无聊。&lt;/p>
&lt;p>待在家里的时候，爷爷最喜欢干的事情就是看打鬼子片，这很多老年人都喜欢。我小时候也跟着看，那个年代的打鬼子片也好看，越老的越好看，不像现在这么粗制滥造。爷爷奶奶的床垫子很厚，比较软，小时候我经常一边跟爷爷奶奶看电视，一边在床上跳来跳去。因为他们房间的大灯是可以拉上拉下的，也是我的玩具之一。&lt;/p>
&lt;p>不看电视的时候，他就出去跟人抽烟喝酒打麻将。我大概只跟着他去过一次。他去打麻将的那家人养了条狗还蛮可爱的，他打麻将我就钻到床底下跟狗狗对视。也不知道狗狗当时是什么心情。&lt;/p>
&lt;p>他非常能抽烟喝酒，这和他的死大概也有关。据我母亲描述，他喝的比较厉害的一次曾经耍酒疯拿着菜刀在屋里四处挥舞，好不容易才抢下来。她说那是精神病发作，我并不清楚实情。&lt;/p>
&lt;p>抽烟的时候我奶奶一般会叫他出去抽，免的让我吸二手烟。我家有很多他买的整条烟，我会把包装拆开，把里面的小盒到出来，我再一个一个塞进去。因为烟盒的尺寸特别严丝合缝，玩起来十分的强迫症福利。&lt;/p>
&lt;p>我们因为这些不良嗜好的事总说他，可除了这些，他也没什么别的事可干。&lt;/p>
&lt;p>爷爷做的煎刀鱼很好吃，刀鱼在我们这边就是带鱼。我吃鱼不吃两边的部分，每次都把两边咬掉，只吃中间没有小刺的部分，剩下的东西就要其他人处理，现在想起来十分的抱歉。除了刀鱼，爷爷奶奶做的很多菜都很好吃，是我父母完全比不了的。爷爷去世后，奶奶也没什么力气做大菜了，从那以后我便再也没吃过他们做的菜。&lt;/p>
&lt;p>每次年夜饭的时候，家里都会做一堆好吃的菜，再来几个亲戚。做饭的时候，一家人在厨房忙活，我在小屋看着电饭锅。老式的电饭锅不靠谱，保温开着又费电，所以都要有人盯着跳闸了就拔掉，一般都是我干这个。看电饭锅的时候没事干，我就拿爷爷的罐装啤酒叠叠乐，等着开饭就可以了。&lt;/p>
&lt;p>爷爷去世的很突然。据我奶说，有一天他在大屋里靠着床头看打鬼子片，渐渐的头越来越低，然后突然一抬头就没气了。我奶感觉不对劲叫了救护车，不过已经来不及了，我爷就这么和电视里的鬼子一起死了。&lt;/p>
&lt;p>我去了爷爷的葬礼，没有多么伤心。看着棺材里的爷爷，我不知该思考些什么。烧完了尸体，我和几个亲戚一起捡骨头，我拿出一块看着像膝盖的骨头，跟亲戚讨论，大家都没有特别伤心。爷爷的骨灰最后被放在了庙里，我也跟着去了。如大家所说，放骨灰的地方确实比较冷，虽然不知降低气温的是灵魂还是冷气。&lt;/p>
&lt;p>生老病死本就是自然之理，况且他死的那么突然，也没什么痛苦。活着的时候他不知该如何打发的时间，在死去之后都跟着他一起消失了。我对他的了解真的太少，虽然我跟他相处很久，抢他的电视看，抢他的手机玩，但我从来没有问过他以前的事。现在就连他的长相我也不太记得，一切都被时间冲淡了。他的一切永远留在了过去，除了奶奶房间里放着的革命年代的结婚照，代表着对他们那个年代唯一的记忆。&lt;/p></description></item><item><title>奶奶家</title><link>https://blog.megabits.xyz/posts/myst-04-grandma-home/</link><pubDate>Thu, 15 Dec 2022 17:49:00 +0900</pubDate><guid>https://blog.megabits.xyz/posts/myst-04-grandma-home/</guid><description>&lt;p>我从小住在奶奶的家里，我父母也一起住在这，对我来说奶奶家就是我的家，我在这里的记忆比任何地方都要多。父母每天都在店里忙，除了晚上回来以外，我平时都是和爷爷奶奶一起度过的。所以在我的概念里，这里一直都是我家，而我每天也住在我“我家”。&lt;/p>
&lt;p>这房子现在也还在存在，我奶奶也还住在那里，而我爷爷已经早就过世了。&lt;/p>
&lt;p>小区沿着大路而建，对面是个所谓的大学，但是其实也就是个打肿脸充胖子的职业学校。我每天可以听到他们的上下课铃，偶尔还能看到学生在操场上打球。&lt;/p>
&lt;p>奶奶家小区楼道的入口是破破烂烂的木头门，关也关不严，开也开不大。用砖头顶着，早就已经失去了门的作用。父亲每天把自行车抬上抬下，因为放在楼外可能会被偷走。自行车抬上三楼，放在同样破破烂烂的窗户旁边。窗户的玻璃老早就碎了，内外层的缝隙里还能看到法轮功的光盘。楼道里堆了很多垃圾，每一层的墙角都有一些，我还记得我小时候对着这些垃圾堆撒过尿。&lt;/p>
&lt;p>锁好自行车，用钥匙打开了两层房门。里面房门的四周用棉花围着，以阻挡冬日从门缝渗进来的的寒风。门的表面有着一层又一层的胶水印，那是多少年来新春追求福气的痕迹。至于那些追来的福气都哪去了，想必都已经是被我败光了吧。一开门是一条狭长的走廊，冰箱、洗衣机、脸盆什么的，都在走廊的右侧堆着，占了大概一半的空间，左侧留下不到一米拿来走路。左侧是厕所和厨房。尽头有一个大房间和两个连在一起的小房间，都是住人的。我从来弄不懂几室几厅的概念，因为在这个我从小居住的地方，并没有客厅这种东西的存在。&lt;/p>
&lt;p>屋子的装修在我出国后就变了样，我十分后悔自己当初没有把一切都记录下来，现在我已经再也回不到那个我熟悉的地方了。虽然说在那之前，这里也有过很多次变化。&lt;/p>
&lt;p>在我记忆里楼前面曾经还有种叫做仓房的东西，分配给每家每户的小仓库，大概是刚好可以塞得进一辆自行车不会左右撞的程度。我家平时也就在里面放自行车顺便在周围的空间里塞上各种杂物。仓房的门一打开就会有一股发霉的气味，似乎老房子都有这样的气味。&lt;/p>
&lt;p>记得有一天我被父母找去一起收拾仓房，从里面挖出了好多好多的宝藏。有两个巨大音箱的简易组合音响，点不亮也不知道怎么点亮的像示波器一样的东西，还有什么有的没的。当时的我只知道又有东西可以拆了，就非常非常开心。&lt;/p>
&lt;p>仓房不记得从什么时候就被拆了，剩下的地方被铺上地砖变成了孩子们玩耍的小广场。我家的自行车也开始每天往楼上搬了。&lt;/p>
&lt;p>随着时间一天一天过去，小区的楼房被刷上了黄色的新漆，外面加上了铁艺护栏，楼上甚至还多出了铁皮房顶。直到拆除仓房时铺的地砖也渐渐风化，曾经新鲜的事物也成了遥远的记忆。我早已记不起曾经小区的样子，只记得小时候的我每天都趴在阳台上，眺望着远处马路上的车，把阳台窗户上的砖头碎屑往楼下扔去。在我最初的记忆里，小区外面都是沙土路。拖拉机突突突每天从外面开过，每一口呼吸都能吃一嘴沙子。&lt;/p>
&lt;p>听说，以前大房间是奶奶和爷爷住的，我的父母住在两个小房间里。直到有了我，为了给养我腾地方，她和爷爷就搬到小房间去了。不过白天我父母一般都在店里工作，所以白天整个房子都是我和奶奶的。至于爷爷去哪了，之后可能会再讲。&lt;/p>
&lt;p>我的记忆中，奶奶常在厨房或者走廊里干活。坐在矮矮的小木凳上，把丝袋子（即蛇皮袋）里的土豆倒出来，一个一个检查上面的芽子挖掉。我小时候也会坐在她旁边帮忙，帮她挑出需要挖的土豆。到了中午奶奶要给我做饭，我不知道我要吃什么，她也不知道要给我做什么。有时候我有点想吃的东西了，看心情她可能会说：“想吃什么去让你妈给你买”。她们一直都是这样。奶奶觉得我每天被丢在这里给她添麻烦，母亲则觉得当奶奶的不关心自己孙子，想吃的东西还要推给她买。我不知道谁是对的。&lt;/p>
&lt;p>直到晚上父母回来，混着衣服摩擦的声音，和寒风中的气味，打破家里的宁静。爷爷和奶奶回到他们的房间看起电视，和白天的世界截然不同。&lt;/p>
&lt;p>这些年家里的家具挪来挪去，衣柜的门坏掉，桌子的漆裂开，但家具还是那些家具，家也还是这个家。冬日的阳光每天从大屋的阳台照进来，我闭着眼睛躺在阳光下。奶奶在阳台上嗑瓜子，屋门上留下她的影子。那个时候时间还过得很慢，每天都是那样静，直到学校和考试逐渐闯进我的生活，那些美好的事物再也找不到痕迹。&lt;/p></description></item><item><title>看星星的日子</title><link>https://blog.megabits.xyz/posts/myst-03-stars-above/</link><pubDate>Wed, 01 Jun 2022 09:36:41 +0900</pubDate><guid>https://blog.megabits.xyz/posts/myst-03-stars-above/</guid><description>&lt;p>你知道北十字中间的星星叫什么吗？它叫天津四。津是渡口，桥的意思，当初文言文学过。北十字跨越了银河，是渡过银河的桥。因为北十字的星星都很亮，你能轻松的找到它们。&lt;/p>
&lt;p>我是在上初中的时候知道这些的。每天晚上，我们都有两节长时间的“晚课”，中间会有下课十分钟。所谓晚课其实就是加课，虽然说属于教育局禁止的行为，但大家都还是普通的在上。中间短暂的放风时间对于在班主任监视下的我们十分宝贵。而且因为厕所在室外的另一栋里面，大家都会顺便出来转转。东北天黑得早，到了上晚课的时候更是已经彻底黑天了。学校的楼周围没有什么照明，除了附近电业局的楼有些亮光外，操场的角落几乎是全黑的，只要适应一段时间就能看到不少的星星。于是在别人都抓紧时间撒欢的时候，我开始和朋友一起观星。&lt;/p>
&lt;p>当年我很喜欢一个科普的播客，其中一个主持人 Steed
是搞天文的，我对看星星有兴趣多是受他的影响。我当年在我爸的功能机上，发现了一个 Java
写的星图工具，虽然非常简陋，但实际使用起来要比 Starwalk
一类实用的多。毕竟电子产品带不来学校，带了搞不好就要被没收。我晚上调好晚课的时间，照着显示出的图把星星的位置画到纸上，第二天就带这张纸去学校对照着看星星。我的朋友因为家里有
iPad，于是就在家用 Starwalk 对好，把星星的位置大概记住来学校看。这样持续了相当长的时间。&lt;/p>
&lt;p>天津四很亮，所以最好认的就是它。找到之后夏季大三角的其他两个星也都很好找了，再发散还能认出更多的星星。不过话虽这么说，城市里的光污染总是会很夸张，所以一方面要找黑的地方看，另一方面就是要在黑暗处停留足够久让眼睛适应。只是晚课的休息并没有那么长时间，只能尽量看。有时候运气比较好就能看到一些边缘位置的星星。但是因为实在太暗，会怀疑到底是真看到了还是自己的幻觉。有时候对于同一个星星到底是什么我们还会有一些争论，当时为了证明他是对的，我记得他还偷摸把
iPad 带来过学校。&lt;/p>
&lt;p>上课铃一响，就得飞快的速度跑回去。虽然已经不太记得迟到会被怎样了，只记得当年往回跑的时候场面特别壮观，这么多年没发生什么踩踏事故也是奇迹。初中的班主任是个远近闻名的狠人，虽然跟楼上的某位比起来还是差一些，但是也足够折腾我们了。因为平时她在的时候气氛都极其压抑，一旦下课了所有人就会像疯了一样，不是冲出门去，就是在屋里大声喧哗。很多时候晚课她不在，就没什么人能听得下去课了，这个时候受苦的就是数学老师这个大好人了。当年我们讨论这个事情的时候就觉得，如果班主任平时不这么把学生当犯人管着，可能也不致于这样。&lt;/p>
&lt;p>当年果壳的“万有青年烩”还没有变味，Steed
曾在上面做过一个演讲叫《城市周边的灿烂星河》，现在这个视频网上还能找得到。现在的城市里也是有星星的，虽然早已不如父母辈小时候看到的银河壮丽，但也依然有能看得到。当年他还会组织听众去北京郊区路灯都没有的地方看星星，我特别的羡慕，可自己依然要在东北的这个破烂的学校呆着，想也是白想。不过星星依然是那个星星，我还是可以在我生活的地方找到廉价的替代。&lt;/p>
&lt;p>在忙碌又无意义的生活里，看那些遥远的星星似乎可以让人逃离生活的重压。至少在这课间十分钟里，我不再是一个被按在学校里的学生，而是一个简单的，看星星的人。&lt;/p></description></item><item><title>幼儿园</title><link>https://blog.megabits.xyz/posts/myst-02-kindergarten/</link><pubDate>Sat, 16 Apr 2022 11:55:11 +0900</pubDate><guid>https://blog.megabits.xyz/posts/myst-02-kindergarten/</guid><description>&lt;p>在我的记忆里，我去过几个幼儿园，虽然也不记得是为什么了，似乎是因为试听。这些早期的记忆在我的脑中十分的模糊。尤其是没呆过多少天的。&lt;/p>
&lt;p>在我的记忆里，我最早去过的那个幼儿园在一片芦苇里，父亲骑着自行车来送我上幼儿园，我们从芦苇丛里穿过，探出头来看到眼前的楼房。我知道这是不可能出现的画面，虽然当年东北很破败，但是也不至于这样。大概只是周围的杂草很多，被我的大脑涂抹过了一遍吧。我只在这个学校呆了几天，记住的东西并不多，但是大概记得，大厅左侧有一个摆玩具的柜子，上面有一些很大的塑料拼图，是那种圆形的一圈有数个豁口的那种，可以互相 90 度拼起来。我小时候玩过那种形状很类似的小卡片，也是可以拼起来的。我们称那些小卡片为“piǎ jī”，虽然它们可能并不那么符合“piǎ jī”的定义，不过就凑活这么叫了。我在那里盯着那些拼图看，父母去和学校的老师聊天。因为当时正好在午休，所以我就顺便一起进去午休了。&lt;/p>
&lt;p>后来我也没有玩过过那些拼图，什么时候走的也不记得了。我父母并不想让我在很小的时候就学一堆东西，想给我找一个比较可以玩的幼儿园。在初高中恐怖的考试竞争开始之前，我的父母还是很沉得住气的。蒙台梭利的概念当年在东北炒的火热，我最后就很顺理成章的被弄到了一个有蒙台梭利班级的幼儿园。&lt;/p>
&lt;p>因为在这边呆的时间比较长，我记的东西也多。到了上幼儿园的年纪总会听大人们讲那些事，谁家的孩子去幼儿园上课有没有哭啊什么的。听归听，真到了节骨眼上我自然也不免俗要哭一下的。不过我的哭法跟别的孩子不太一样。我记得我并没有在正常的上学时间到学校，而是跟母亲晚一点到的。楼道里一个人都没有非常冷清，我一边走一边发抖。教室外面有一个换鞋的房间，我就被带到了那里。幼儿园的老师从里面走出来。拿着两个玩具来逗我玩。我坐在换鞋的长椅上，我的母亲在旁边看着我。&lt;/p>
&lt;p>老师一只手上拿了一个小恐龙，问我“你知道他们的名字吗？”。我不理他，继续哭。&lt;/p>
&lt;p>母亲沿着来时空空如也的楼道扬长而去，留下我一个人对付老师。我其实并没有多害怕上幼儿园，当时其实心里其实是在想“我才不知道勒”。不过面子上还是要哭一下的，人不能太好对付。所以还是哭了好半天才被那老师劝住。&lt;/p>
&lt;p>蒙台梭利说白了就是边玩边学，所以幼儿园里有更多玩的机会，那种一只死坐着上课的比较少。每周有两天会去那种屋子里都是玩具的房间玩。作为一个对学习没什么兴趣的家伙，我当然只记得每周这两天里发生的事。&lt;/p>
&lt;p>首先有一个都是小教具的房间。房间周围是一圈的木头柜子，地面是地板，需要脱鞋进去。地板上用胶带贴了一个绕场一周的大圈，是用来“走线”的。所谓“走线”，就是脚尖碰脚跟的沿着线走路，是一种锻炼小脑平衡性的活动。每次去这个房间我们都要干这个，一堆人跟着音乐绕圈走的时候，看起来就像是某种神秘的宗教仪式一样。几个老师坐在旁边的凳子上观察我们，觉得走合格了的，就会被允许去柜子里拿东西玩。柜子里的东西很多，除了一些学习形状的积木之类的，还有一些很高级的什么碘酒之类的东西玩。只是那些高级的东西从来没人教过我们怎么用，所以也没人敢拿。如果下去的比较晚，好一点的玩具就会被别人先拿走，自己就只能拿一些无聊的东西玩了。&lt;/p>
&lt;p>有一些玩具印象还挺深的。像是某个亮色木头做的长木头块，里面严丝合缝的插了很多不同尺寸的圆柱体，上了清漆，每个上面都有把手可以拿出来。远看起来就像一个砝码盒。因为我一般都是比较后面被叫下去的，我能分得到的大概也就只有这种东西了。还有人会拿那种红色木头做的大木头块，我印象也挺深的。玩玩具的时候要在地上铺上垫子。门口有一个专门放垫子的大纸箱，被叫下来之后就可以去里面拿垫子铺上。有时候拿不到好玩的玩具，我们也会几个人把垫子贴的近一些，把拿到的玩具一起玩什么的。&lt;/p>
&lt;p>走圈的时间长了，玩的时间就短了。靠克制自己的欲望好好听话来达成欲望，怎么听起来像是某种 PUA。&lt;/p>
&lt;p>另外一个房间里玩的就开心多了。这个房间本来是用来搞演出活动的，平时不用的时候就放一堆中型的玩具。印象最深的是一个蓝色的漏斗形的东西。因为是漏斗形的，会躺倒在地上旋转滚动，人可以跑到里面去跟着一起滚。有些意义不明但是很好玩。还有就是一个非常迷你的小钢琴我印象很深。这种会发出声音的东西经常被抢着玩，但是基本都是乱按，根本没人真的会弹。我不一样，我会弹小星星。于是我一旦占到了钢琴，我就一定要弹个调子来显摆一下。但是从来没真的能好好显摆过，因为旁边的人总是会来在我管不到的高音或低音部分乱弹一波。我从来没好好的把一个小星星弹完过。也许其他人也觉得我很奇怪吧。&lt;/p>
&lt;p>除了这些，每周还有一天的玩具开放日。我们可以把自己喜欢的玩具带到学校来早上玩，虽然说只能玩一早上。越是这种时候越能体现出我这个人不太正常。比起别人带的都是正常玩具，我自己常常会企图带一些别人没见过的东西来炫耀。比如说我记得我带过父亲淘汰给我的寻呼机，虽然网络已经没了，但是依然可以发出各种铃声，非常的 COOL，但是没人懂就是了。&lt;/p>
&lt;p>每天晚上被接走之前我们会到一楼的一个大教室等家长。教室后面有一个书架，放了一堆被翻烂的书。以及一些上课用的幻灯机。现在的孩子们大概完全没见过幻灯机是什么样子的吧。说起“保存按钮的模型”大概还是有不少人知道的，幻灯机就不一定了。我们的这个幻灯机不是那种像投影仪一样的放小底片的，而是更类似现在学校教学会用的“实物展台”。下面用功率很大的灯泡透过菲涅尔透镜照亮投影片，用镜子反射到墙上。我曾偷偷的去打开幻灯机的开关，灯泡没亮，用来吹灯泡的风扇倒是很吵。&lt;/p>
&lt;p>事实上，我们上课从来没用过这些幻灯机，这些东西都是拿来给家长看公开课的时候做样子的。这种表演从幼儿园就已经开始了。&lt;/p>
&lt;p>每天在这个教室看着周围的朋友一个个被家长接走，自己的家长却没来的时候，总是最焦虑的。这种焦虑也是我儿时深刻的记忆。&lt;/p>
&lt;p>我这种人被老师教训也是常事。平时犯错的时候，最常见的教训就是被揪到换鞋的那个小房间骂一通了。最常见的理由大概也就是不安静一类的。我们会被三个五个的拉着衣服拽到那个房间，如果老师觉得骂得不过瘾，还会把我们拽出门外，并吓唬我们“自己回家去得了！”&lt;/p>
&lt;p>比较过分的时候也有。像是有一次我不记得是因为自己犯了什么错，被老师拿缝衣针在所有人面前威胁说要把我嘴缝上。她一边拽着我衣服一边拿针要往我嘴上戳，这件事我这辈子都忘不了。&lt;/p>
&lt;p>被老师骂吓人归吓人，但我从来没有被下倒过。有一次我被拽到小房间的时候，我突然想，如果我真的被拽出门外，会发生什么呢？我决定试一试。本来每次老师企图把人拽出去的时候，我们都会激烈的反抗，但这次我没有反抗，就这样被他拽出了门外。结果他骂了几句之后，就又把我拽回来了。大概也是怕真的人跑了她要被家长砍死吧。&lt;/p>
&lt;p>除了被骂，一天中最难熬的时间就是午睡了。虽然我也不知道为什么要逼着精力充沛的小孩睡午觉，说不定只是老师想要休息吧。反倒是上了学之后，我再也没能睡够觉。到午睡时间，一群孩子就像被赶鸭子上架一样赶到床上。现在人睡不着的时候都玩手机，我们当年睡不着也都能找到打发时间的道具。对我来说主要是眼镜。只是因为老师都会在附近看着我们睡觉，想要不被发现的摆弄眼镜其实也不容易。有时候发出了声音被老师听见，我的眼镜就被没收了。眼镜被没收了我更睡不着觉了，会一直想自己的眼镜被放到哪去了，一会是不是起来就要被骂了。&lt;/p>
&lt;p>不知道为什么，睡上铺总是对我有一种很大的吸引力。本来我也睡不着，睡上铺比下铺有意思多了。首先是可以看到棚顶的吊扇。眼镜被没收了，我就盯着棚顶的吊扇，也许这样就睡着了，也许就这样盯一整个中午。有时候还能在一些角度看到老师在干些什么。我甚至记得有一天看到他们趁着这时候在拔火罐。不过睡在上铺也有睡在上铺的风险，上下梯子的时候，下面的家伙搞不好就会戳你的脚，就像我在下铺的时候也戳别人的脚一样。&lt;/p>
&lt;p>从小家里人就教我，睡觉的时候要侧到没有心脏的一边，这样比较健康。所以在家的时候我都会侧到特定的一边睡。可是到了幼儿园，我就有点反应不过来自己到底该朝向哪一边了。也许是幼儿园时候的自己太傻了吧，我想到了一个不知道该如何评价的绝妙方案。我在自己的脑海里想象自己躺在家里床上的方向，然后把脑海中的这个床从家里沿着我去幼儿园的路移动，直到移动到我现在的床的位置。这样来判断我应该朝向哪一边。想的过程中经常会跟丢，一旦跟丢了就要从头再来，这也成为了我睡不着觉时候的一项娱乐。&lt;/p>
&lt;p>幼儿园时候的朋友我已经全都忘掉了，没有任何一张脸留下来。尽管我曾在每天放学后和他们在滑梯上，海洋球里玩过无数次。&lt;/p>
&lt;p>总有人说想要回到学生时代，我很难认同，可能我最多也只是想回到幼儿园的时代。可想起那些年在我脑海中挥之不去的事情，似乎还是自由的现在要好一些。累一点，又算什么呢。&lt;/p></description></item><item><title>搭建易于访问的私人 PeerTube 实例</title><link>https://blog.megabits.xyz/dev-posts/peertube/</link><pubDate>Thu, 10 Feb 2022 00:00:00 +0900</pubDate><guid>https://blog.megabits.xyz/dev-posts/peertube/</guid><description>&lt;p>本文旨在描述如何通过虚拟主机与对象存储，配置易于私人使用的 PeerTube 实例。教程并不适用供大规模访问的网站架设。&lt;/p>
&lt;p>虽然说只要 VPS 访问起来没有问题，不用对象存储也是没有问题的。但从经费的角度上，购买高带宽的对象存储总要比高带宽的 VPS 来的省钱。所以对于本文的目标读者，我还是建议使用对象存储。&lt;/p>
&lt;h2 id="事前准备">事前准备&lt;/h2>
&lt;ol>
&lt;li>一台 VPS（本文以 Ubuntu/Debian 为例）&lt;/li>
&lt;li>对象存储服务（本文以 Backblaze B2 为例）&lt;/li>
&lt;li>个人域名或子域名&lt;/li>
&lt;li>习惯使用 Linux 的大脑&lt;/li>
&lt;/ol>
&lt;h2 id="配置对象存储">配置对象存储&lt;/h2>
&lt;p>首先你需要配置一个供 PeerTube 保存其影片的对象存储池。PeerTube 支持 Amazon S3，或 Backblaze B2，你用哪个都行。&lt;/p>
&lt;h3 id="访问密钥">访问密钥&lt;/h3>
&lt;p>你需要从你选择的服务商建立一个访问用的 Key，并将：&lt;/p>
&lt;ol>
&lt;li>App Key ID&lt;/li>
&lt;li>App Key&lt;/li>
&lt;/ol>
&lt;p>记录下来以备稍后使用。&lt;/p>
&lt;h3 id="存储池">存储池&lt;/h3>
&lt;p>之后建立一个给 PeerTube 使用的池，并将池设置为&lt;strong>公开（Public）&lt;/strong>，记录下：&lt;/p>
&lt;ol>
&lt;li>名字&lt;/li>
&lt;li>终结点（Endpoint，即对象存储的主域名）&lt;/li>
&lt;li>地区（只有 Amazon S3 需要）&lt;/li>
&lt;/ol>
&lt;h3 id="配置-cors">配置 CORS&lt;/h3>
&lt;p>CORS 其实就是防盗链。你肯定不希望什么网站都外链你的视频出去播放。在上一步已经设置为公开的基础上，点击 &lt;strong>“CORS Rules”&lt;/strong> 按钮进行配置。&lt;/p>
&lt;p>选择：Share everything in this bucket with this one origin.&lt;/p>
&lt;p>并在其下方写下你将会使用的域名。需包含 https://，端口号可以没有。&lt;/p>
&lt;p>CORS 配置大概需要十分钟左右的时间来生效，正好可以来安装我们的网站。&lt;/p>
&lt;h2 id="安装-peertube">安装 PeerTube&lt;/h2>
&lt;p>PeerTube 的安装是非常麻烦的，所以有很多人会选择使用 Docker 进行安装，但假如你对 Docker 并不熟悉，后续配置的时候可能会十分头疼。所以这里我们将直接进行安装。本文默认你在非 root 的 sudo user 下进行操作，其他情况请自行调整。&lt;/p>
&lt;h3 id="前置准备">前置准备&lt;/h3>
&lt;p>安装 Node.js：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo apt install build-essential gnupg curl wget unzip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sL https://deb.nodesource.com/setup_lts.x | sudo bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt install nodejs
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo npm i -g yarn
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装其他包：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo apt install git python-dev ffmpeg postgresql postgresql-contrib redis-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>此处我们没有安装 nginx，因为我将会在后文使用 Caddy2 作为 Web 服务器。&lt;/p>
&lt;p>启动数据库：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl enable --now postgresql redis-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>建立 PeerTube 用户并设置其密码：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo useradd -m -d /var/www/peertube -s /bin/bash peertube
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo passwd peertube
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>配置 PostgreSQL 用户和数据库：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo -u postgres createuser -P peertube
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo -u postgres createdb -O peertube -E UTF8 -T template0 peertube_prod
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo -u postgres psql -c &lt;span style="color:#e6db74">&amp;#34;CREATE EXTENSION pg_trgm;&amp;#34;&lt;/span> peertube_prod
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo -u postgres psql -c &lt;span style="color:#e6db74">&amp;#34;CREATE EXTENSION unaccent;&amp;#34;&lt;/span> peertube_prod
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>此处第一条命令后你会被要求输入数据库的访问密码，后面我们会用到。&lt;/p>
&lt;h3 id="安装-peertube-1">安装 PeerTube&lt;/h3>
&lt;p>首先进入到 peertube 用户下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>su - peertube
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>下载最新版的 PeerTube：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>mkdir config storage versions &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> cd versions
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>wget https://github.com/Chocobozzz/PeerTube/releases/download/v4.0.0/peertube-v4.0.0.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip peertube-v4.0.0.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ln -s /var/www/peertube/versions/peertube-v4.0.0 ../peertube-latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>本文编写时 PeerTube 的最新版本是 4.0，其他版本可以从 &lt;a href="https://github.com/Chocobozzz/PeerTube/releases">GitHub&lt;/a> 获取。&lt;/p>
&lt;p>安装：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>cd ../peertube-latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yarn install --production --pure-lockfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装过程中可能会出现一些警告，不用管他。&lt;/p>
&lt;h3 id="调整配置文件">调整配置文件&lt;/h3>
&lt;p>首先从模版创建新的配置文件并打开：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>cp config/default.yaml /var/www/peertube/config/default.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cp config/production.yaml.example /var/www/peertube/config/production.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nano /var/www/peertube/config/production.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>此处使用的是 nano 编辑器，使用方法非常简单，99.9% 的时候都只用 Crtl+O 保存，Ctrl+X 退出。&lt;/p>
&lt;p>需要改动的地方有以下几点：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>webserver:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> https: true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hostname: &lt;span style="color:#e6db74">&amp;#39;peertube.imlala.best&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 你的域名&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> port: &lt;span style="color:#ae81ff">443&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果你希望使用 http 进行测试，可以暂时改为 80 端口。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>database:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hostname: &lt;span style="color:#e6db74">&amp;#39;localhost&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> port: &lt;span style="color:#ae81ff">5432&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ssl: false
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> suffix: &lt;span style="color:#e6db74">&amp;#39;_prod&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> username: &lt;span style="color:#e6db74">&amp;#39;peertube&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> password: &lt;span style="color:#e6db74">&amp;#39;password&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 刚刚设置的数据库密码&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pool:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> max: &lt;span style="color:#ae81ff">5&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>object_storage:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> enabled: true &lt;span style="color:#75715e"># 改为启用&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> endpoint: &lt;span style="color:#e6db74">&amp;#39;s3.us-west-002.backblazeb2.com&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 你的对象存储池终结点&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># region: &amp;#39;us-east-1&amp;#39; # 你的对象存储地区（如果需要的话）&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> credentials:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> access_key_id: &lt;span style="color:#e6db74">&amp;#39;xxxxxx&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 你的 App Key ID&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secret_access_key: &lt;span style="color:#e6db74">&amp;#39;xxxxxx&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 你的 App Key&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> max_upload_part: 2GB
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> streaming_playlists:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bucket_name: &lt;span style="color:#e6db74">&amp;#39;PeerTube&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 你的对象存储池名字&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> prefix: &lt;span style="color:#e6db74">&amp;#39;streaming-playlists:&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 串流子文件夹名，注意结尾的冒号&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> videos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bucket_name: &lt;span style="color:#e6db74">&amp;#39;PeerTube&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 你的对象存储池名字&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> prefix: &lt;span style="color:#e6db74">&amp;#39;videos:&amp;#39;&lt;/span> &lt;span style="color:#75715e"># 影片子文件夹名，注意结尾的冒号&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>可以根据自己的实际需要填写，如果你不准备用对象存储，这里可以不改。串流列表和影片的池可以不是一个，如果不是一个的话，可以将两行子文件夹名用井号注释掉，如果是一个则必须要有子文件夹名。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>transcoding:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> enabled: false &lt;span style="color:#75715e"># 关闭转码&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果你的 VPS 性能很强可以不改，一般的便宜 VPS 都不太带的动转码的工作，我建议你在自己的电脑上转好了再上传。确保视频格式为 H264 音频格式为 AAC。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>tracker:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> enabled: false &lt;span style="color:#75715e">## 关闭 P2P&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>因为我们的实例是自用的，开着 P2P 没什么意义，所以关掉。P2P 还会影响从对象存储串流。这里的选项并没有办法完全关闭 WebTorrent，我们后面会继续讲。&lt;/p>
&lt;p>最后不要忘了保存。&lt;/p>
&lt;h3 id="启动-peertube">启动 PeerTube&lt;/h3>
&lt;p>这里先用 &lt;code>Exit&lt;/code> 命令回到之前的用户下，之后启动 PeerTube 服务：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl enable --now peertube
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>检查一下运行有无问题：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl status peertube
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>我们还需要修改默认的管理员密码，回到 peertube 用户下操作：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>su - peertube
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd peertube-latest &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> NODE_CONFIG_DIR&lt;span style="color:#f92672">=&lt;/span>/var/www/peertube/config NODE_ENV&lt;span style="color:#f92672">=&lt;/span>production npm run reset-password -- -u root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>注意此处因为要拉起 Node.js，到出现输入密码提示的速度非常慢，如果误操作多按了回车什么的，可以用 Crtl+C 取消重来。&lt;/p>
&lt;p>完成后再次用 &lt;code>Exit&lt;/code> 命令回到之前的用户下。&lt;/p>
&lt;h2 id="安装-caddy">安装 Caddy&lt;/h2>
&lt;p>Caddy 是一款非常现代且易于配置的 Web 服务器，还可以自动从 Let&amp;rsquo;s Encrypt 签发 HTTPS 证书，我也很推荐你在其他场合尝试使用 Caddy。&lt;/p>
&lt;p>用以下命令添加 Caddy 的源并安装：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo apt install -y debian-keyring debian-archive-keyring apt-transport-https
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -1sLf &lt;span style="color:#e6db74">&amp;#39;https://dl.cloudsmith.io/public/caddy/stable/gpg.key&amp;#39;&lt;/span> | sudo tee /etc/apt/trusted.gpg.d/caddy-stable.asc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -1sLf &lt;span style="color:#e6db74">&amp;#39;https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt&amp;#39;&lt;/span> | sudo tee /etc/apt/sources.list.d/caddy-stable.list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt install caddy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>编辑 Caddy 配置文件：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo nano /etc/caddy/Caddyfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>将文件的内容替换为以下内容并保存：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>peertube.imlala.best &lt;span style="color:#f92672">{&lt;/span> &lt;span style="color:#75715e"># 你的域名&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> reverse_proxy 127.0.0.1:9000
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>启动 Caddy 服务：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl enable --now caddy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>检查运行有无问题：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl status caddy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>此时如果出现端口被占用的问题，说明你可能在运行 nginx 一类的其他 Web 服务器。如果出现无法注册 HTTPS 证书一类的问题，可以检查一下防火墙和 CDN 配置，比如关掉 Cloudflare 的代理再试。&lt;/p>
&lt;p>现在你可以打开你的网站试试看了，如果不出意外应该已经可以打开了。你可以用 root 和刚才设置的密码来登录。如果访问不了可以检查防火墙配置。&lt;/p>
&lt;h2 id="其他必要配置">其他必要配置&lt;/h2>
&lt;p>在 PeerTube 的管理页面中我们可以对服务器做进一步的自定义。我这里挑选一些重要的来讲一下。&lt;/p>
&lt;h3 id="管理面板">管理面板&lt;/h3>
&lt;p>首先我建议你安装 privacysettings 插件，它可以将新上传的影片锁定为站内访问，对一个自用的节点非常实用。&lt;/p>
&lt;p>在 Configuration &amp;gt; Basic 下，你可以将 SEARCH 和 FEDERATION 里面的项目全部勾掉，来进一步提高自闭程度。记得点保存设置。&lt;/p>
&lt;h3 id="我的账户面板">我的账户面板&lt;/h3>
&lt;p>还记得我们刚才提到的 P2P 影响对象存储访问的问题吗？我很怀疑这其实是一个 Bug，在 Tracker 已经被禁用的情况下，P2P 应该不可用才对，但 Web Torrent 却还在浏览器上运行。这基本上等于是把我们用来提速的对象给存储架空了。即便在不用对象存储的条件下，我依然发现它要比直连慢得多，对于私人使用来说怎么都是关掉为好。&lt;/p>
&lt;p>我们需要在 “我的账户” 的 Settings 中找到 “帮助分享正在播放的视频” 勾掉。记得点保存设置。这一选项需要在每个用户的设置里面进行调整，非常的麻烦，不过因为我们是自己用，所以影响不是特别大。希望这一问题能在以后的版本中得到解决。&lt;/p>
&lt;p>PeerTube 的中文翻译也不是很完整，有时候有有时候没有。&lt;/p>
&lt;h2 id="排错">排错&lt;/h2>
&lt;p>在 PeerTube 的 “管理” 的 “系统” 菜单下的 Jobs 中可以看到正在执行的任务。如 “move-to-object-storage ” 就是将上传的视频移动到对象存储的任务，你可以在其报告中看到一些相关的错误提示。如果对象存储无法访问，可以检查 CORS 是否正确，极端情况下可以先改成允许所有网站访问进行测试。还有可能是因为对象存储没有设置为 Public。&lt;/p>
&lt;p>如完全按照本教程配置，播放器应该会在播放时右下角显示 HTTP 字样（电脑版页面），而不是上传下载速度，否则请检查是否已关闭 “帮助分享正在播放的视频”。&lt;/p>
&lt;h2 id="参考资料">参考资料&lt;/h2>
&lt;p>&lt;a href="https://github.com/Chocobozzz/PeerTube/">PeerTube Github&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://docs.joinpeertube.org/">PeerTube Docs&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://lala.im/7688.html">荒岛 PeerTube v3：终于支持直播功能啦&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://zhuanlan.zhihu.com/p/357738044">知乎 Xpitz PeerTube 安装教程：如何搭建视频分享平台&lt;/a>（想要用 Docker 装的可以参考此文）&lt;/p>
&lt;h2 id="结语">结语&lt;/h2>
&lt;p>我早就有想搭一个 PeerTube 的想法但是一直没有付诸实践，主要就是因为安装过于麻烦。这次教程用自用节点的角度尽可能细致的梳理了安装步骤，希望能够帮到有同样想法的朋友。&lt;/p></description></item><item><title>我家的店</title><link>https://blog.megabits.xyz/posts/myst-01-stores/</link><pubDate>Sun, 14 Nov 2021 01:41:27 +0900</pubDate><guid>https://blog.megabits.xyz/posts/myst-01-stores/</guid><description>&lt;p>坐在父亲的车后座上，离开嫩江公园，花大概半小时在一条路上一直向前走，路右边就是我家书画装裱的店了。那是一个狭小但灯光明亮的小店，店内两堵墙的距离和门的宽度差不多，一直向内延伸。屋子里的灯光冷得发蓝，还有肉眼可见的闪烁和灯管的电流声。内侧三面都是从头到脚简易的架子，上面乱七八糟的，感觉东西随时都要掉下来。&lt;/p>
&lt;p>店里偶尔会来很多人，因为多是些老人，说话总要高几十分贝，吵闹的声音和冷色的灯光一起让人十分烦躁。母亲站在架子旁和来裱画的客人高声应和，而我则盯着架子上一个黑色的夹子，等着有人帮我拿下来。——— 这是我脑中关于这个小店日常的唯一记忆，我不记得自己为什么要看那个夹子，只记得自己面向母亲的方向站着，没有前后的画面，就好像自己从来没有动过一样。&lt;/p>
&lt;p>我的父母都算是下岗职工。那年机床厂生意不景气，即便不丢掉工作也是在丢掉工作的前夜。于是母亲拜了师学书画装裱，和父亲一起开了这家店。他们从我有记忆开始似乎就已经在做这些工作，当年会裱画的人少，装裱机也还没出现，所以生意一直都很好。他们常常回来很晚，有时半夜回家的时候，他们会来我的房间看我有没有睡着。其实我经常是醒着的，但是也装作睡着的样子继续躺着不动，以免又要被问为什么还没睡。&lt;/p>
&lt;p>小时候我很爱跟着他们“去店里玩”，虽然现在想来并不知道在玩什么，但在当时只要可以跟他们去店里，我都会很高兴，大概我只是想和家人在一起。这个时候我家的店还非常小，我也很少会被家人带过来。因为这屋子实在是太窄了，我过来会添不少麻烦，但我还是会偶尔来一次。还因为房子窄，很多实际上的工作都是在另外的居民楼里做的，这边只是用来接待客人。这时候我对父母的工作了解不多。只知道所谓书画装裱就是给画好的画做周围那一圈好看的框子。&lt;/p>
&lt;p>有一天，父亲把我叫到门口一个不高的水泥台子旁边，看样子似乎是要给我一个惊喜。台子被漆成淡黄色，从墙上凸出来，上面随便放着一些调料瓶。台子的右侧有三节楼梯，上面有一个小门，我从来没想过那里面有什么，只觉得那是个柜子。父亲收拾好台子上的东西，把我抱了上去，里面居然是个阁楼。阁楼里灯光是深红色的，从门外看显得非常神秘，当时的我还并不清楚，这些红色的灯光其实是用来洗照片的。父亲年轻时曾是摄影爱好者，只是后来生活所迫渐渐放弃了做摄影师的理想。不过在我生活的各种地方，其实还留着很多和摄影有关的东西，这等以后再讲。&lt;/p>
&lt;p>现在这个阁楼已经没拿来做这个了，阁楼里面现在放着的是父亲的电脑。为了扩展业务多赚点钱，除了帮忙裱画之外，父亲开始做刻绘，建筑沙盘，图文一类的杂活，说实话我很惊奇他是如何做到自己看书学会做这么多东西的。他这天把我也带上来想给我看看电脑长啥样。他打开桌上的台灯，虽然除去了房间诡异的红色基调，但灯光依然昏暗。在放电脑桌子旁边有一台刻字机，父亲把机器打开，旁边的风扇发出令人舒服的白噪音，清凉的气流从主轴附近的缝隙吹出来。&lt;/p>
&lt;p>当年用贴纸刻字做牌匾是个很流行的事情，成本低，字容易换，贴在哪都很方便，而刻字机就是拿来把贴纸切成字的形状的机器。机器是长条状的，有两个滚轮把贴纸压在主轴上面。中间的刀头左右移动，用电磁铁悬着。父亲非常细致的确认贴纸有没有对齐，把滚轮压好，一边不断的提醒我把手拿远一点不要卷进去。他当年还在机床厂工作的时候听过很多可怕的事故，不管是断手断脚还是长头发被卷进机器，都让人心有余悸。我家的这刻字机是一个叫“金伊泰”的公司生产的，买的时候送了正版的“文泰刻绘 2000+”，我不知道这两家公司是否还活着。另外一边的桌子上还有扫描仪、打印机，因为刻绘和图文一般都是一起干的，这些东西也自然少不了。&lt;/p>
&lt;p>这个屋子对我来说是个神奇的地方，里面有着各种有趣的机器，看这些机器嘎吱嘎吱其实可能比电脑本身有趣。不过这房间我只进去过一两次。这里是打从我存在之后我家的第一个店面，所以我对这里的记忆并不多。除了这个在门附近的这个阁楼令人印象深刻以外，关于房间更里面的事情我真的毫无记忆。我家人在我母亲这一支一直都是搞艺术的，我姥爷是做篆刻的，我母亲又是做装裱的，在他们看来我真的是很奇怪，怎么在这么个有艺术氛围的家里，生了一个写代码的家伙呢？&lt;/p>
&lt;p>后来我家的店搬走了，搬到了右侧一个稍大一点的屋子里，还是同一个楼。原来的屋子迅速的被另一个同样和书画相关的店给占了。这次我家的店基本上是正对着文化宫，文化宫前面有巨大的毛主席像，手穿过一条马路指着我家。这栋楼再往右是我二姨开的修复印机的店，我向来算不清楚亲戚关系，其实对二姨为什么是二姨也搞不懂，就知道她叫二姨。我经常去她店里玩，她欢不欢迎我不知道，我反正是很喜欢去玩。&lt;/p>
&lt;p>搬到这里之后我去店里的机会增加了不少，主要是房子够大终于容得下我四处乱跑了。我在这边玩累了就去二姨店里玩，二姨店里玩累了再跑回来。夏天虫子多的时候我家店门口全都是乌泱泱的瓢虫，为了尽可能的避开它们，我一般都会以极快的速度移动。不过还是会有虫子贴在我的脑门上弄得我很痒，我伸出手来碰了它一下，虫子就飞走了。&lt;/p>
&lt;p>现在的店变成了比较明显的里外两个房间。外面的房间用于接待客人，里面的房间用来干活。房间的中央是一个超大的桌子，其实大概就是之前用的那个。用做铁艺栅栏的那种方形铁管做成骨架，上面固定上木板的桌面，非常简易但很实用。下面因为都是空的还可以塞很多东西，轴和轴头、宣纸、绫子还有其他一些乱七八糟的熨斗胶带都塞在下面。桌面整个用贴纸包了个膜，好保持桌子平滑不会刮坏上了浆糊的宣纸。周围只剩下狭窄的空间供人走来走去。&lt;/p>
&lt;p>地面非常的原始，没有地板也没有瓷砖，就是水泥地面。我还记得，在靠窗户的左边墙角有块木板子，踩上去吱吱呀呀的，似乎下面盖着一个大洞，我小时候一直在想里面是什么，直到现在我也不知道。周围的墙也非常特别，上面被纸条糊了一层又一层，这是裱画的一道工序“上墙”的痕迹。小时候我到店里最喜欢玩的就是去那个墙上撕纸条。最里面是个很大的窗户，下面是暖气。当年没有塑窗，窗户都是铁框加玻璃，窗框和把手上都是锈，玻璃也都脏，看不太清外面的东西。其实就算能看清也没什么用，窗户外面没多远就是另一堵砖墙。&lt;/p>
&lt;p>只要里屋有活干，我就会被赶到外屋呆着，主要是他们怕我弄坏了里屋桌子上的东西。这段时间父亲有了更大的野心，买了一台小型的 CNC 放在外屋。这 CNC 用来做建筑沙盘，虽然加工尺寸不大，能刻的材料也有限，但做沙盘是够用了。只是沙盘上的东西不能全自己做，一些比较细小的物件是从外面买的。像是一些只有一厘米高的小人，几厘米高的路灯还有行道树，摆在哪里都非常可爱。还有一桶所谓“草粉”的东西，用来模拟草坪。这些小模型不便宜，父亲当年不太愿意让我碰，但现在这些东西就都是我的了。&lt;/p>
&lt;p>因为年龄大了一些而且经常来这里，在这里发生的事我能记住的比较多，但也大多是些碎片。&lt;/p>
&lt;p>我记得有一天我坐在外面，突然有个乞丐走了进来，嘴里说这些听不懂的话。我就进屋喊：“爸！有个乞丐跑进来啦！”，父亲从里屋出来，拿了两个馒头问他要不要，乞丐摆摆手走了。“看到没，这种吃的不要就要钱的，绝对就是假乞丐。平时也总有，我都先这么试试。”之后我又听见那乞丐在隔壁一家啊吧啊吧。&lt;/p>
&lt;p>这里不但乞丐多，小偷也多。我家店外面除了一个正常的门以外，还有一层折叠起来的铁栅栏，离开店里的时候就把这铁栅栏用一个超大的锁和很粗的链子锁好。如果我晚上在这边呆到很晚，跟父亲一起走的话，就要站在外面等一会锁门，他还是一样不断的提醒我不要把伸手过来，会被栏杆夹。&lt;/p>
&lt;p>店门前面是一个 T 字路口，对面一条路走过去就是文化宫了。我一直都不清楚文化宫是个什么东西，里面除了补习班就是补习班，叫补习班城还差不多。有的季节会这条路上会开展销会，两边会交通管制然后摆上各种各样的小摊。我当时最喜欢的就是买一大袋散装薯片吃，算是我记忆中的味道，之后似乎就再也没吃过那么好吃的薯片了。&lt;/p>
&lt;p>过了一段时间，我父亲渐渐的不再做建筑沙盘了，CNC 也卖了。具体什么理由我不太清楚，也许是没有想象的那么赚钱。此后外屋我活动的空间也大了不少，我渐渐学会了鼓捣父亲的电脑，从最开始只会开关机，到可以自己放一些光盘玩，似乎也没花多少时间。会的东西多了，也开始惹事了。有一次我翻家里的碟包，发现了一个我没看过的光盘。父亲告诉我这光盘他试过了，里面有病毒，我不信非要玩，然后电脑中毒了他折腾了好一段时间。当年家里没网，病毒库也都没得更新，查个几百遍查不出来也就是查不出来了。最后只好重装系统。&lt;/p>
&lt;p>我家呆在这里的时间大概是持续到我上初中，之后他们又开始搬家了。理由大概有几个，一个是希望可以和老人分开住，另一个大概还有为了我上学中午做饭方便之类的。这次我们搬到了小区里面，因为我家多是靠熟人和回头客，所以搬到小区里影响并不大。&lt;/p>
&lt;p>新房子还是毛坯房的时候我就去过，四处都是灰色的水泥墙，地上随便堆着些板材，在哪喊一声都是“空谷传响”。就连上厕所，都只能直接对着下水管尿，印象非常深刻。这次装修比之前下了些本钱，因为是准备在这里住的，总要有个住人的样子。从那时候开始他们就总跟我说，之后要把我也搬到这边来住，不在奶奶那边住了。我对此非常抗拒，因为一旦来了这里，我便要每天被他们监视，没办法好好摸鱼了，后来也确实如此。&lt;/p>
&lt;p>这里有三个房间，外面最大的一个房间用来接客，里面稍小一点的房间用来干活，最小的房间拿来当仓库，还有一张床可以睡觉。厨房是开放的，另外还有个厕所我就不细说了。我家渐渐的把东西搬到了这边，又在阳台做了个牌匾，算是正式搬过来了。这个时候零活都渐渐不再做了，不管是刻绘还是图文。打印机放太久头堵住坏掉，扫描仪送给我，刻字机也被我拆开玩了。&lt;/p>
&lt;p>搬到居民区里也带来了新问题。首先是小偷更多了。虽然有着坚固的防盗门，还是有小偷破窗而入把我家洗劫一空，还好后来有被警察抓到。其次，想在小区的阳台上挂广告的不只有我们，还有那些“通下水道”、“办证”和“房屋出租”。我家的牌匾上被用油漆喷了各种各样的小广告，一开始还努力擦一擦，到后来只好放弃。&lt;/p>
&lt;p>店一直在这里开到现在，也许因为住得太久，我对店刚搬到这，我还没开始入住时候的状况，记忆十分模糊。大概只记得家具移动过很多次，客人来来去去，这么多年就这么过去了。&lt;/p>
&lt;p>我大概是在初二的时候被要求搬过来的，从那之后这里就成了我的家。他们把我安置在作为仓库的小屋，我每天就在里面写作业。他们时不时就进来拿个东西，放个东西，顺便监视我有没有在好好学习。屋里的宣纸一直摞到棚顶，而我在成堆的宣纸中间，总觉得哪天我会被倒下来的宣纸压死。好在东北没有地震，我还是活到了现在。&lt;/p>
&lt;p>搬到这里后，我晚上就一直受到家里的监视。我从来都不是好好学习的那种人，自从学会了写代码，我每天脑子里都是和同学一起做的项目。以前他们白天工作的时候没办法管我，现在终于是可以了。他们会时不时的突然打开门看我在干什么，这段时间我很少有隐私。而且一旦家里来了客人，就像从前一样，不管我把门关的再紧，外面那些平均年龄 70 岁的家伙们的笑声还是可以找个缝钻进来。&lt;/p>
&lt;p>自打我高中时候开始，家里的客人就越来越少了，尽管尝试了卖紫砂壶，卖画等各种生意，都无法对抗东北已经成为文化荒漠的事实。大家都去南方赚钱了，这个城市里只剩下了户口无法移动的孩子和看管他们的老人。从前父母会抱怨活太多忙不完，可现在却已经没有活可干了。那些吵闹的声音也变少了，过去我讨厌的东西也都不再回来了。而我也最终没有考上什么好大学，只得出国另谋出路。我曾经不务正业做的那些事也成为了我活下去的唯一支柱。&lt;/p>
&lt;p>尽管住了这么久，我却从不怀念那里。儿时“去店里玩”是我向往的事情，但当这已经成为了日常的时候，我却已经不再是曾经无忧无虑的自己了。也许对后来的我而言，曾经那个能够把我和父母在太阳下山之前隔离开的奶奶家，也许才是我真正的家吧。&lt;/p></description></item><item><title>序言</title><link>https://blog.megabits.xyz/posts/myst-00-prologue/</link><pubDate>Sat, 13 Nov 2021 20:01:32 +0900</pubDate><guid>https://blog.megabits.xyz/posts/myst-00-prologue/</guid><description>&lt;p>明天就不是高中生了。&lt;/p>
&lt;p>一阵杂乱的脚步声后，人群安静下来。太阳的温度让广场陷入一片死寂，只有气流在耳边留下低沉的声响。过了一会，话筒的碰撞声出现在空气中，带着广场上天然的回音和刺耳的啸叫。几个油腻的中年大叔站在高处，在制造了一分钟的噪音后，开始长篇大论的说些自己都不相信的话。没有人认真听他们在说些什么，只是被迫站在这里，百无聊赖的随着风轻轻摆动，像是些干瘪的芦苇，看起来毫无生气。&lt;/p>
&lt;p>这明明是夏天。&lt;/p>
&lt;p>在热风里吹了半个小时，回到室内，班主任从隔壁她的办公室抱来了她三年来没收的东西。手机、漫画，还有从某人手里拿走又被他偷回来数次的 MP3。对学生来说，被没收手机是常事，有回头路的并不多，难道“等毕业了就还给你”之类的鬼话真的要兑现了么？&lt;/p>
&lt;p>这些东西大多已经被没收了很久，其中一些已经逐渐失去了意义，对于原来拥有它们的人来说，即便归还回来也没有什么用了。所以她想了个令人意外的主意，她要把这些东西再拍卖给学生，拿那些换成钱当所谓的“班费”。我不知道她是怎么想到这个主意的，在问过原主不想要了之后，她开始一块钱起拍卖这些东西。不管是班里的前十名还是后十名，所有人都热情高涨。大家消费着自己曾经的愤怒和失去，好像这一切是自己的胜利。他们真的知道自己在干什么吗？我面无表情的看着他们抬价，感觉我们并不活在同一个世界里。&lt;/p>
&lt;p>从小就听人讲，祖国的版图是个公鸡，而东北就是这鸡头，可这鸡头也未免太寒酸了点。喊了这么多年老工业基地，这座城市却并没有多少工业的影子。脑海里有的，只有小学时候，学校旁的旧厂房会闹鬼的都市传说。&lt;/p>
&lt;p>这是一个，我生活了二十年的城市。&lt;/p></description></item><item><title>用树莓派（等）为 USB Midi 键盘增添连接方式</title><link>https://blog.megabits.xyz/dev-posts/midi-pi/</link><pubDate>Wed, 14 Aug 2019 00:00:00 +0900</pubDate><guid>https://blog.megabits.xyz/dev-posts/midi-pi/</guid><description>&lt;p>我在去年买了一个 M-Audio 的 Midi 键盘，用来连接电脑或者 iPad 弹琴。但是由于琴摆放的位置没有办法拉充电线，所以我能弹琴多久很大程度上取决于设备还有多少电。前一阵子从朋友手里白嫖了个橘子派，鉴于在练琴的时候其实并不需要多高的音质，我决定用这个设备给自己做一个钢琴的音源。&lt;/p>
&lt;p>我首先会介绍如何配置 USB Midi 设备发出声音，再介绍如何通过 Midi over BLE 广播 Midi 信号，最后介绍如何通过 Midi over Wifi 来广播 Midi 信号。&lt;/p>
&lt;h2 id="系统配置">系统配置&lt;/h2>
&lt;p>由于我使用的是橘子派而不是树莓派，我遇到了一些只有这边才会遇到的问题，其他开发板可以选择性掠过本节。&lt;/p>
&lt;p>橘子派能安装的最新版本 Armbian 内核关闭了 Midi 功能。在各种论坛研究一圈之后，发现旧版本的 Armbian 内核是开了的，于是我下载了使用旧版内核的系统。&lt;/p>
&lt;p>（注意使用旧版本系统仅限于本教程前半部分 USB Midi 设备，假如你需要配置蓝牙 Midi，则必须自己编译新内核。请自己 Google 如何编译 Armbian，在编译选项中开启：Device Drivers &amp;gt; Sound card support &amp;gt; Advanced Linux Sound Architecture &amp;gt; Sequencer Support )&lt;/p>
&lt;p>进去之后正常更新系统，旧版镜像要久一点。橘子派还需要在系统中启用声音，使用自带的配置工具 &lt;code>sudo armbian-config&lt;/code>，启用 System &amp;gt; Hardware &amp;gt; Toggle hardware configuration &amp;gt; analog-codec 。&lt;/p>
&lt;p>由于橘子派会等待网络服务激活后才进入系统，导致开机时间非常长，使用下面的命令关闭它：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl disable NetworkManager-wait-online
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>你还可以使用 &lt;code>systemd-analyze blame&lt;/code> 命令查看服务的启动时间，关闭一些其他你不需要的服务。&lt;/p>
&lt;h2 id="安装-fluidsynthhttpwwwfluidsynthorg">安装 &lt;a href="http://www.fluidsynth.org">FluidSynth&lt;/a>&lt;/h2>
&lt;p>Debian 源中自带的 FluidSynth 版本比较低，是 1.x 的。由于旧版本的 FluidSynth 并不能自动连接 Midi 设备，我们需要手动编译新版。&lt;/p>
&lt;p>为了安装依赖，我们先要调整 apt 源,在文件中取消几个 deb-src 源前面的注释。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo nano /etc/apt/sources.list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装所有需要的依赖包然后编译。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo apt-get build-dep fluidsynth --no-install-recommends
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git clone https://github.com/FluidSynth/fluidsynth
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd fluidsynth/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake ..
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>接下来在命令行中执行 fluidsynth 确认是否正常。如果出现了找不到库的情况的话，首先应该尝试更新链接库。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo ldconfig
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果这样不行的话，可以添加环境变量。（下面的代码是临时的，永久修改可以自己 Google 一下。）&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>export LD_LIBRARY_PATH&lt;span style="color:#f92672">=&lt;/span>/usr/local/lib:$LD_LIBRARY_PATH
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>确认可以正常运行之后就可以进入下一步骤了。&lt;/p>
&lt;p>（本节参阅 &lt;a href="https://github.com/FluidSynth/fluidsynth/wiki/BuildingWithCMake">Github&lt;/a>）&lt;/p>
&lt;h2 id="获取-sound-font">获取 Sound Font&lt;/h2>
&lt;p>如果你尝试过直接用 apt 安装 FluidSynth 的话，你应该会看到它推荐的几个包：fluidr3mono-gm-soundfont、timgm6mb-soundfont、fluid-soundfont-gm。这些都是 Sound Font。但是他们可能不够好听，并不能达到你的要求，这时候你就可以去一些第三方网站下载，比如 &lt;a href="https://sites.google.com/site/soundfonts4u/">SoundFont4U&lt;/a>。&lt;/p>
&lt;p>FluidSynth 支持 SF2/SF3 格式的音源文件，不支持 SFZ，请注意不要搞错。自己下载的音源可以存到一个叫 sound-fonts 的文件夹下备用，使用 apt 安装的上述几个音源则安装在 /usr/share/sounds/sf2 文件夹下。&lt;/p>
&lt;h2 id="测试声音">测试声音&lt;/h2>
&lt;p>先运行一次测试是否能够正常出声，这里我使用了 GM 音源。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>fluidsynth -is -a alsa -m alsa_seq -g &lt;span style="color:#ae81ff">5&lt;/span> -o midi.autoconnect&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> /usr/share/sounds/sf2/FluidR3_GM.sf2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>解释一下参数：&lt;/p>
&lt;ul>
&lt;li>a,m 输入输出使用的音频驱动。&lt;/li>
&lt;li>is 作为服务静默运行。&lt;/li>
&lt;li>g 力度阈值，这里设置的大一点，以防一些设备音量太小。&lt;/li>
&lt;li>o 细节参数，这里设置了自动连接 Midi 设备 midi.autoconnect。&lt;/li>
&lt;/ul>
&lt;p>（本节参阅 &lt;a href="https://github.com/FluidSynth/fluidsynth/wiki/UserManual">Github&lt;/a>）&lt;/p>
&lt;p>运行之后弹一下连接的键盘，看看有没有声音，比较慢的设备可能需要等一段时间才会显示已连接。按照目前的设置，音量应该会蛮大的，如果声音特别小，可以打开 &lt;code>alsamixer&lt;/code> 调整一下音量，并使用 &lt;code>sudo alsactl store&lt;/code> 保存状态。确认可以正常演奏之后，就可以进行下一步了。&lt;/p>
&lt;h2 id="fluidsynth-启动服务">FluidSynth 启动服务&lt;/h2>
&lt;p>为了能够让 FluidSynth 开机启动我们需要自己写一个服务：&lt;code>sudo nano /etc/systemd/system/fluidsynth.service&lt;/code>。在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-systemd" data-lang="systemd">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">Description&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">FluidSynth Daemon&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">After&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">sound.target&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">EnvironmentFile&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/etc/fluidsynth&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">ExecStart&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/usr/local/bin/fluidsynth -is -a alsa -m alsa_seq -z 64 -c 2 -g $GAIN -o synth.cpu-cores=4 -o midi.autoconnect=1 ${FONT_PATH}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">WantedBy&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>解释一下这里多出来的几个参数：&lt;/p>
&lt;ul>
&lt;li>z 缓存大小，可以使用 64 128 256 等“整数”。&lt;/li>
&lt;li>c 缓存个数，一般为 2 或 3。&lt;/li>
&lt;li>o 多了一个设置 CPU 核心数的选项 synth.cpu-cores，你可以根据自己的开发板来设置。可以装一个 htop 数条条看几个核。&lt;/li>
&lt;/ul>
&lt;p>文件中还把音源文件名和力度放在了环境文件中方便设置。新建环境文件：&lt;code>sudo nano /etc/fluidsynth&lt;/code>，在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>FONT_PATH&lt;span style="color:#f92672">=&lt;/span>/home/megabits/sound-fonts/SalC5Light2.sf2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GAIN&lt;span style="color:#f92672">=&lt;/span>1.5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这个应该就不用我太多解释了。这里将力度设置为 1.5 是我试出来在橘子派上比较合适的音量，你可以自己调。假如你的 Midi 键盘有音量滑杆那就更方便了。&lt;/p>
&lt;p>激活服务：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl enable fluidsynth
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start fluidsynth
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>之后理论上就应该能正常弹琴了。假如听不到声音，可以用 &lt;code>journalctl -u fluidsynth&lt;/code> 来查看服务的日志，看看是出了什么问题。如果你只需要用 USB 来连接一下 Midi 设备的话，下面就可以不用看了。&lt;/p>
&lt;p>参考文章：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://artteknika.hatenablog.com/entry/2017/04/28/185509">Raspberry Pi Zero をMIDI音源ボックス化&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://hunke.ws/posts/orange-pi-usb-midi-host/">Orange Pi USB MIDI Host&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="midi-over-bluetooth-low-energy">Midi over Bluetooth Low Energy&lt;/h2>
&lt;p>除了直接用这个做音源，我还有希望能够通过 BLE 转发 USB 设备的 Midi 信号到其他设备上方便连接。首先要下载 BlueZ，由于 BlueZ 默认是没有开启 Midi 功能的，所以需要自己编译。此外这里使用的 BlueZ 是一个经过修改的版本，提供了 Midi Server 的功能。不过这个程序有一个蛮烦人的问题，那就是无法同时发送音符，也就是说弹和弦时候，声音永远都对不齐。所以这个就推荐各位自己考虑一下要不要装吧。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git clone https://github.com/oxesoft/bluez
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install -y autotools-dev libtool autoconf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install -y libasound2-dev
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install -y libusb-dev libdbus-1-dev libglib2.0-dev libudev-dev libical-dev libreadline-dev
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd bluez
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>./bootstrap
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>./configure --enable-midi
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>之后测试一下开启服务端并用其他支持 Bluetooth Midi 的软件来搜索，如 iOS 下的 Garageband。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo btmidi-server -v -n &lt;span style="color:#e6db74">&amp;#34;Midi over BLE&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果出现了 &lt;code>MGMT_OP_SET_LE failed: Not Supported&lt;/code>，就说明设备不支持 BLE。在确认一切正常后打开另外一个终端窗口，连接好 Midi 设备并扫描。注意在这之前要先用别的设备连接上 Bluetooth Midi，BlueZ 只有在有设备连接时才会创建 Midi 通道。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>aconnect -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在列表中找到你自己的蓝牙设备和创建的 &amp;ldquo;Midi over BLE&amp;rdquo;。比如我的输出结果是：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>client 0: &lt;span style="color:#e6db74">&amp;#39;System&amp;#39;&lt;/span> &lt;span style="color:#f92672">[&lt;/span>type&lt;span style="color:#f92672">=&lt;/span>kernel&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Timer &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Announce &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>client 14: &lt;span style="color:#e6db74">&amp;#39;Midi Through&amp;#39;&lt;/span> &lt;span style="color:#f92672">[&lt;/span>type&lt;span style="color:#f92672">=&lt;/span>kernel&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Midi Through Port-0&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>client 20: &lt;span style="color:#e6db74">&amp;#39;Keystation 88&amp;#39;&lt;/span> &lt;span style="color:#f92672">[&lt;/span>type&lt;span style="color:#f92672">=&lt;/span>kernel,card&lt;span style="color:#f92672">=&lt;/span>1&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Keystation 88 MIDI 1&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Keystation 88 MIDI 2&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>client 128: &lt;span style="color:#e6db74">&amp;#39;Midi over BLE&amp;#39;&lt;/span> &lt;span style="color:#f92672">[&lt;/span>type&lt;span style="color:#f92672">=&lt;/span>user,pid&lt;span style="color:#f92672">=&lt;/span>2104&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Midi over BLE &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这里可以看到我的键盘 &amp;ldquo;Keystation 88&amp;rdquo; 编号是 20，&amp;ldquo;Midi over BLE&amp;rdquo; 默认编号是 128。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>aconnect 20:0 128:0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这样就可以把两个通道连接起来了。去键盘上按几个键，看看连接的设备会不会发出声音。一切正常就可以进行下一步了。&lt;/p>
&lt;h2 id="midi-over-ble-启动服务">Midi over BLE 启动服务&lt;/h2>
&lt;p>新建一个服务：&lt;code>sudo nano /lib/systemd/system/btmidi.service&lt;/code>，在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-systemd" data-lang="systemd">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">Description&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">MIDI Bluetooth connect&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">After&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">bluetooth.target&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">Requires&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">bluetooth.target&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">ExecStart&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/usr/local/bin/btmidi-server -n &amp;#34;Midi over BLE&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">WantedBy&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>激活服务：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl enable btmidi.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start btmidi.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>接下来配置自动连接 Midi 通道，这里我们使用 udev 来在蓝牙设备发生变化时自动连接。首先来写一个连接脚本：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>touch linkble.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod a+x linkble.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nano linkble.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/usr/bin/aconnect &lt;span style="color:#e6db74">&amp;#39;Keystation 88&amp;#39;&lt;/span>:0 128:0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>注意这里要把键盘的名字改成自己的。之所以要用设备名来连接，是因为设备编号是不稳定的。接下来建立规则 &lt;code>sudo nano /etc/udev/rules.d/44-bt.rules&lt;/code>,在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>ACTION&lt;span style="color:#f92672">==&lt;/span>&lt;span style="color:#e6db74">&amp;#34;add|remove&amp;#34;&lt;/span>, SUBSYSTEM&lt;span style="color:#f92672">==&lt;/span>&lt;span style="color:#e6db74">&amp;#34;bluetooth&amp;#34;&lt;/span>, RUN&lt;span style="color:#f92672">+=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;/home/user-name/linkble.sh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>刷新规则：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo udevadm control --reload-rules
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这样就可以在其他设备连接到 BLE 的时候自动连接通道了。&lt;/p>
&lt;p>参考文章：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://neuma.studio/rpi-as-midi-host.html">RASPBERRY PI 3B AS USB/BLUETOOTH MIDI HOST&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://tttapa.github.io/Pages/Ubuntu/Software-Installation/BlueZ.html">BlueZ with MIDI over BLE Support&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="midi-over-wifi">Midi over Wifi&lt;/h2>
&lt;p>首先需要激活虚拟 Midi 设备模块。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>modprobe snd-virmidi
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>aconnect -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果输出中出现了几个虚拟 Midi 设备就说明设置成功了。为了能让模块永久启用，我们来建立一个配置文件 &lt;code>sudo nano /etc/modules-load.d/snd-virmidi.conf&lt;/code>，在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>snd-virmidi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>保存并重启。&lt;/p>
&lt;p>接下来安装 raveloxmidi：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo apt-get install -y git pkg-config libasound2-dev libavahi-client-dev autoconf automake
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install avahi-daemon
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git clone -b experimental https://github.com/ravelox/pimidi.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd pimidi/raveloxmidi/ &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> ./autogen.sh &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> ./configure &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> make -j2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>假如你的网络不支持 ipv6，就需要配置一下 avahi-daemon，打开文件：&lt;code>sudo nano /etc/avahi/avahi-daemon.conf&lt;/code>，按照下面的值来设置，注意一些行需要取消注释。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>use-ipv6&lt;span style="color:#f92672">=&lt;/span>no
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>publish-addresses&lt;span style="color:#f92672">=&lt;/span>yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>publish-aaaa-on-ipv4&lt;span style="color:#f92672">=&lt;/span>no
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>接下来查看可用的设备编号：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>amidi -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>打开 &lt;code>aconnect -l&lt;/code> 来看一下设备在其中的编号，看一下 Midi 键盘的编号和第一个虚拟设备的编号，我的是 28:0 24:0，把它们连接起来。注意这里的顺序，一定是把键盘通道发送给虚拟设备通道。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>aconnect 28:0 24:0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>我这里第一个虚拟 Midi 设备的编号是 hw:2,0，记住这个值。为 raveloxmidi 建立一个配置文件：&lt;code>/etc/raveloxmidi.conf&lt;/code>，在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>alsa.input_device &lt;span style="color:#f92672">=&lt;/span> hw:2,0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>network.bind_address &lt;span style="color:#f92672">=&lt;/span> 0.0.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>logging.enabled &lt;span style="color:#f92672">=&lt;/span> yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>logging.log_level &lt;span style="color:#f92672">=&lt;/span> normal
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>接下来启动测试：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo raveloxmidi -dN -c /etc/raveloxmidi.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果程序正常运行了你应该就可以在其他地方连接它。这里以 macOS 上的 Garageband 为例：&lt;/p>
&lt;p>打开 “音频 Midi 音频设置” 并在菜单中打开显示 “Midi 音频工作室”。之后在 “Midi 音频工作室” 的菜单或者工具栏上打开 “Midi 网络设置”。启用 “会话1”。在目录中选择 raveloxmidi，点连接。&lt;/p>
&lt;p>打开 Garageband 弹几个音试一试，如果正常出声就是成功了。&lt;/p>
&lt;h2 id="midi-over-wifi-启动服务">Midi over Wifi 启动服务&lt;/h2>
&lt;p>新建一个服务：&lt;code>sudo nano /etc/systemd/system/raveloxmidi.service&lt;/code>，在文件中输入：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-systemd" data-lang="systemd">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">After&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">local-fs.target network.target&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">Description&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">raveloxmidi RTP-MIDI network server&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">WantedBy&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">User&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">root&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">ExecStartPre&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/usr/bin/aconnect &amp;#39;Keystation 88&amp;#39;:0 24:0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">ExecStart&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/usr/local/bin/raveloxmidi -dN -c /etc/raveloxmidi.conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>注意 Midi 设备的名称要改成自己的。激活服务：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo systemctl enable raveloxmidi.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start raveloxmidi.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>服务没有启动成功也没关系，可能是因为我们之前已经手动连接过一次 Midi 设备了，重启试试就好。&lt;/p>
&lt;p>（本节参阅：&lt;a href="https://github.com/ravelox/pimidi/blob/master/FAQ.md">Github&lt;/a>）&lt;/p>
&lt;p>参考文章：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://blog.tarn-vedra.de/pimidi-box/">Using a Raspberry Pi as a RTP-MIDI Gateway for macOS&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="后记">后记&lt;/h2>
&lt;p>最后我还是没能把这些都装好，新内核老内核都有各自的问题，无法两全。在我重新编译的内核的系统中，虽然两边的程序都能正常运行了，但是 alsa 却开始定时输出一些噪音，非常的诡异。真心推荐大家不要购买 Orange Pi Zero，这个板子很要人命。假如你用的是其他的板子，那按照我的教程来弄应该就可以正常使用了。&lt;/p></description></item><item><title>夜</title><link>https://blog.megabits.xyz/posts/night/</link><pubDate>Thu, 01 Aug 2019 01:15:36 +0900</pubDate><guid>https://blog.megabits.xyz/posts/night/</guid><description>&lt;h2 id="零">零&lt;/h2>
&lt;p>夜深了，他走到自动贩卖机前，买了一罐咖啡，随便靠在旁边的墙上。手里捧着的咖啡还有些烫，他时不时转动一下罐子，眼神呆滞的看着街对面的灯。&lt;/p>
&lt;p>还以为赶得上最后一趟车，现在竟然要走十几公里回家？开什么玩笑。他苦笑一下，叹了口气，端起手里的咖啡。每天从早到晚的折腾，又没有多少钱拿，现在还摊上这种事。&lt;/p>
&lt;p>一旁的饭店已经拉下了卷帘门，门前的荧光灯闪烁着，老化的灯管发出断续的电流声。时不时还有飞虫撞在上面，叮叮当当的响。&lt;/p>
&lt;p>他盯着那些虫子发呆，十几只虫子的身影渐渐模糊成了一团，变淡，不见了。但他并没有注意这些，在旁人看来，他就像是个靠在墙上的蜡像，抬着头，两眼无神。突然，蜡像挤了挤眼睛，虫子又清晰了起来，他把目光移回手里的咖啡罐，灯管在视野里留下深绿色的印记，阻挡了视线。&lt;/p>
&lt;p>他拿起咖啡喝了一口，已经凉的没法喝了，他强喝了一半，把咖啡随手放在旁边的石栅栏上，拉了下衣领继续沿着路走下去。&lt;/p>
&lt;h2 id="一">一&lt;/h2>
&lt;p>路上一个人都没有，只有他若隐若现的影子在陪着他。&lt;/p>
&lt;p>影子从他的身后转到他的身前，又渐渐变淡，随之而来的是另一个从身后追来的影子。他低着头静静的看着影子赛跑，也许可以就这样打发时光。一瞬间，他觉得自己好像浮在地面上，只是和平行世界里相互追赶的两人做着一样的动作，在一成不变的水泥地上滑来滑去，却没有走出一丝一毫。&lt;/p>
&lt;p>这种奇妙的感觉随着视野中出现的井盖而消失了。他于是停下来，抬起头看了看前方的路，也许该庆幸如同在梦游的自己只是遇到了路中央的井盖，而不是一头撞在对面的墙上。他回头看看，重新走回路左边，尽管这个时候已经不会有车从他身边经过了，但走在建筑物的旁边让他感到安心。&lt;/p>
&lt;p>夜晚的天气还是那么冷。他把手插在衣服兜里，继续快步向前走，希望可以借着运动稍微抵挡冬天的恶意。若是往日，他早已躺在出租屋温暖的床上了。尽管冷风依旧从窗户缝里透出来，但比起现在，他至少还可以裹紧被褥。&lt;/p>
&lt;p>没有雪地嘎吱作响，但脚下滚动的碎石还是为脚步声增添了些许细节。他的脚被大一点的石头稍稍搬离它原本落下的位置，一侧的石头避免了自己被磨碎的命运，把这重担扔给了对面的家伙们。等这一切过去，那些幸存和新生的石头们，又重新进入梦乡。&lt;/p>
&lt;p>他的影子消失了。也许匆忙躲在他身后的那个已经被抓住，抑或是前面追来的那个终于跑累了，但他还要继续走下去。面前的路还是看不到头，星星也还是挂在原来的地方。路上依旧只有他一个人。&lt;/p>
&lt;h2 id="二">二&lt;/h2>
&lt;p>夜晚这样安静，周围细碎的声音替代了白天的熙熙攘攘，时而出现在意识里，时而又从意识里消失。他闭上眼睛，放慢脚步，想要在空无一人的街道上享受些许的自由。身旁的空调外机吹着风，老化的风扇发出不和谐的声音。今天对于大部分人来说都已经结束，没有人会记得夜半走过窗前的他，和他那些追逐的影子。&lt;/p>
&lt;p>综艺节目的罐头笑声从谁家的窗户缝里透出来，夹杂几个人吵闹的对白。电视闪烁的光映在窗玻璃上，映在墙上，映在人的脸上。那些能在几个月内用完别人一辈子的笑声的家伙们，到底有几天是真的开心呢。他笑不出来，只觉得那些人吵闹。已经有一阵子没看过电视了，屏幕里的世界似乎生活着一群永远不会累的人，他讨厌这样。&lt;/p>
&lt;p>他快步把吵闹的声音甩在了后面，感到松了一口气。&lt;/p>
&lt;p>风声和月光又重新充满了世界。草丛沙沙的响，一只黑猫从里面钻了出来，回头看了他一眼，又钻到了对面的草丛里去。他抬起头看着天上，想要找到北斗七星在哪，但却始终没办法把星星连在一起，他把头一直向后仰，直到看到自己走过的同样无穷无尽的路，早已分不清哪边才是回家的方向。&lt;/p>
&lt;h2 id="三">三&lt;/h2>
&lt;p>路的前方出现了一条铁轨。他走到中央，沿着轨道的方向望去。点点灯火串在银线上，延伸到远处直到消失。他好想向那边走去，永远离开那一成不变的家路，但他做不到，这条路是他的宿命。铁轨旁树的枝条将天空划成碎片，也把月亮断成几节。他伸出手去，像想要把月亮拿下一块一样的，闭上一只眼睛来比对碎块的形状，月亮也看着破碎的他，与他在深夜中对视。&lt;/p>
&lt;p>沿路吹来的风拉扯着他的大衣，易拉罐在路上敲敲打打，空气怪叫着，月亮和他都不再是原来的样子。他走到一边给风让开道路，让它继续带着沙砾和破碎的灵魂去下一个目的地。&lt;/p>
&lt;p>月光变得昏暗，地面上出现了些许黑色的斑点，下雨了。他在风中艰难的撑开不愿合作的折叠伞，盯着边缘流下的水滴，脚下继续机械地走着。水滴在地上弹跳着，带着风没有带走的东西流进街边的下水道，在你路过的时候向你道别。&lt;/p>
&lt;p>雨声盖过了一切，制造了一种新的安静。他不再思考什么，只是看着远方那已经被交替的白线模糊的道路，和周围的一切，一同消失在这模糊的世界里。&lt;/p></description></item><item><title>我为什么要写博客</title><link>https://blog.megabits.xyz/posts/why-blog/</link><pubDate>Tue, 30 Jul 2019 19:22:42 +0900</pubDate><guid>https://blog.megabits.xyz/posts/why-blog/</guid><description>&lt;p>熟悉我的人都知道，我很早就开始在少数派写文章了。当时 Matrix 刚开，我在上面写一些 Mac 相关的教程，持续了数年。比起不写东西的人来说，我算是稍微有一丁点成绩吧。只是最近半年，我觉得自己有些写不下去了。&lt;/p>
&lt;p>当初开始的时候，我的心态其实就是拿 Matrix 当自己的博客用，语句不通顺的地方还有人帮改改。能赚钱，还有人看，真的是蛮不错的。因为人少，那时候 Matrix 的用户质量还非常高，大家写东西都还是相对自由的。我差不多一个月发一篇，写一些自己想写的东西，也习惯了长时间的写作。&lt;/p>
&lt;p>不过我写文章有些地方和别人不太一样。虽然在写教程之类的文，但除了教别人怎么做一件事，我也希望自己的文章有自己可以认可的文字上的美感。姑且算是风格吧。所以对于别人改我的稿子，其实我是比较敏感的。对于很多人来讲，写教程能把东西讲清楚就行，让人能看懂，想看就可以了，用词行文包括标题其实都没什么所谓，所以编辑改了也就改了，并不太在乎。可对我来说，文章作为文章本身的意义要大得多。所以当我介绍 FEZ 的文章标题被改成强行蹭纪念碑谷热度的时候，当我想的有趣说法被人换掉的时候，我的感觉非常不好。尤其在写思维导图的付费内容的时候，好几个我觉得我写的非常有意思的点都曾被要求删掉。不过人总是懒惰的，在成为签约作者要按照数量写稿之后，我写的标题也逐渐趋向于首页的大部分文章。毕竟签约作者发的文，原文是不会保留下来的，我再坚持也没太大意义。渐渐的我意识到一件事情，假如我继续这样懒惰下去，将会逐渐失去自己写作风格，迟早要被同质化。所以就决定休息一下，不再继续做签约作者了。&lt;/p>
&lt;p>这之前还发生了一些给我印象不太好的事，也是我离开这个平台的原因，不过我不想再提了。&lt;/p>
&lt;p>另外，写技术文章以及教程文章，其实并不是我最想做的事情。我之前一直在写这些，很大一部分是因为稿费以及对宣传自己有帮助，但其实我最想做的，还是写一些记叙性的文章，写自己的想法，观点，以及故事。&lt;/p>
&lt;p>所以，我又搞了这样一个博客，把一些无法在少数派和掘金发的文章发在这里。也许之后压根不会有人来看，但我也终于算是有了一个可以自由写作的地方。不必符合某个网站的风格，不必为了吸引眼球而牺牲，这里发的所有文章，都是按照我的想法写出来的。这是一个浮躁的时代，没有几个人愿意大量写有意义有价值的文章，也没有几个人愿意读这些，但我还是要写。毕竟写这些东西不是为了别人，而是为了在未来的某一天，当我想知道过去的自己想了什么，做了什么的时候，不必依赖会被情绪左右的记忆。&lt;/p></description></item></channel></rss>